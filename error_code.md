# 错误码定义

本文档定义了系统中的错误码，用于标识不同类型的错误。错误码的结构和分类如下：

## 错误码分类

| 错误码范围 | 类型       | 描述                               | 示例错误码 | 示例描述             |
| :--------- | :--------- | :--------------------------------- | :--------- | :------------------- |
| 0          | 成功       | 表示操作成功                       | `0`        | 没有错误，操作成功   |
| 1xx        | 系统层面   | 表示系统级别的错误                 | `101`      | 未知系统错误         |
|            |            |                                    | `102`      | 参数无效             |
|            |            |                                    | `103`      | 认证失败             |
|            |            |                                    | `104`      | 权限不足             |
|            |            |                                    | `105`      | 因为系统依赖中存在同名依赖因所以添加依赖失败             |
|            |            |                                    | `106`      | 因依赖中存在同名依赖所以添加依赖失败             |
|            |            |                                    | `107`      | 用户名或密码错误             |
|            |            |                                    | `108`      | 验证码错误或被使用             |
|            |            |                                    | `109`      | JWT Token 失效             |
|            |            |                                    | `110`      | 用户不存在             |
|            |            |                                    | `111`      | 同名用户已存在             |
|            |            |                                    | `112`      | AI 配置缺少参数             |
|            |            |                                    | `113`      | 权限不足             |
|            |            |                                    | `114`      | 权限不足             |
|            |            |                                    | `115`      | 权限不足             |
|            |            |                                    | `116`      | 权限不足             |
|            |            |                                    | `117`      | 权限不足             |
| 2xx        | 应用（Application） | 表示与应用相关的操作错误           | `201`      | 创建应用失败         |
|            |            |                                    | `202`      | 应用不存在           |
|            |            |                                    | `203`      | 应用名称已存在       |
|            |            |                                    | `204`      | 更新应用失败         |
|            |            |                                    | `205`      | 删除应用失败         |
|            |            |                                    | `206`      | 应用正在运行，无法再此运行         |
| 3xx        | 函数操作   | 表示与函数执行或管理相关的错误     | `301`      | 执行函数失败         |
|            |            |                                    | `302`      | 函数不存在           |
|            |            |                                    | `303`      | 函数编译失败         |
|            |            |                                    | `304`      | 函数执行超时         |
|            |            |                                    | `305`      | 函数版本不匹配       |
|            |            |                                    | `306`      | 函数测试执行失败       |
|            |            |                                    | `307`      | 请求的测试函数域名不存在       |
|            |            |                                    | `308`      | 公共函数的函数名称只允许为英文       |
|            |            |                                    | `309`      | 禁止创建重复名称的函数       |
| 4xx        | 数据库操作 | 表示与数据库交互相关的错误         | `401`      | 数据库连接失败       |
|            |            |                                    | `402`      | 数据库集合查询失败       |
|            |            |                                    | `403`      | 数据库集合创建失败       |
|            |            |                                    | `404`      | 数据库集合同名创建失败       |
|            |            |                                    | `405`      | 数据库集合删除失败       |
|            |            |                                    | `406`      | 数据库集合非空删除失败           |
|            |            |                                    | `407`      | 数据库集合不存在删除失败           |
|            |            |                                    | `408`      | 数据库集合清空失败           |
|            |            |                                    | `409`      | 数据库集合由于不存在导致清空失败           |
|            |            |                                    | `410`      | 数据库文档删除失败           |
|            |            |                                    | `411`      | 数据库集合不存在删除失败           |
|            |            |                                    | `412`      | 数据库集合不存在删除失败           |
|            |            |                                    | `413`      | 数据库集合不存在删除失败           |
|            |            |                                    | `414`      | 数据库集合不存在删除失败           |
|            |            |                                    | `415`      | 数据库集合不存在删除失败           |
| 5xx        | 文件操作   | 表示与文件上传、下载或访问相关的错误 | `501`      | 文件上传失败         |
|            |            |                                    | `502`      | 文件下载失败         |
|            |            |                                    | `503`      | 文件不存在           |
|            |            |                                    | `504`      | 文件读写权限不足     |
|            |            |                                    | `505`      | 文件格式不支持       |
| 6xx        | 暂未定义   | 这些范围的错误码目前保留，以备将来扩展 | -          | -                    |

## 错误码使用示例

当API返回错误时，会包含错误码和相应的错误信息，例如：

```json
{
  "code": 201,
  "message": "创建应用失败：应用名称 'MyApplication' 已存在。"
}
